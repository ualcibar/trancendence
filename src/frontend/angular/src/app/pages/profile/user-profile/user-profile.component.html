<!-- <div class="w-96 bg-gray-300 rounded shadow-md">
	<div class="text-center pt-4">
		<h1>Friends list</h1>
	</div>
	<p class="text-center pt-8 text-slate-400">You don't have any friends :(</p>
</div> -->

<div *ngIf="loading; else content" class="sp-div flex flex-col items-center justify-center rounded text-white" style="width: 20rem;">
	<h1 class="m-4">Loading user profile... </h1>
	<div class="spinner-border text-warning mb-4" role="status"></div>
    <p *ngIf="tooLong" class="mx-4 mb-4 font-bold text-center" [@easeOut]>If it is taking too long, please check that you are logged in</p>
</div>

<ng-template #content>
	<div *ngIf="!user_not_found && !unauthorizedAccess && info" class="sp-div items-center p-2 max-w-xl md:max-w-4xl md:flex-row mx-auto h-fixed rounded-xl">
		<div class="md:shrink-0 flex items-center">
			<div class="w-full shadow-md rounded">
				<div [ngClass]="'gradient-id-' + info.color" class="md:flex rounded">
					<img src="{{info.avatarUrl}}" class="rounded-full w-36 h-36 ml-4 mt-4 mb-4 flex items-center justify-center bg-neutral-400" alt="Foto de perfil del jugador">
					<div class="ml-4 flex flex-col justify-center">
						<div class="flex items-center">
							<h1 class="text-5xl font-bold">{{ info.username }}</h1>
							<div class="w-4 h-4 rounded-full bg-green-400 ml-2 mt-2"></div>
						</div>
						<h1 class="text-gray-600" style="color: #a7bec4;">{{'profile_lastonline'|translate}}: {{ last_login }}</h1>
					</div>
					<div *ngIf="editProfile" class="ml-auto m-8">
						<div class="lg:tooltip" data-tip="User Settings">
							<a routerLink="/settings"><button class="btn btn-active btn-warning ml-2"><i class="bi bi-gear-fill text-2xl"></i></button></a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="flex">
			<div class="stats bg-gradient-to-r from-slate-900 to-indigo-950 mt-2 p-2 w-full">
				<div class="stat">
					<div class="stat-figure text-secondary">
						<i class="bi bi-controller text-2xl text-primary"></i>
					</div>
					<div class="stat-title text-slate-500">{{'profile_stats_gamespl'|translate}}</div>
					<div class="stat-value text-primary">{{ info.wins + info.loses }}</div>
				</div>
				
				<div class="stat">
					<div class="stat-figure text-secondary">
						<i class="bi bi-trophy-fill text-2xl" style="color: #35bc9d;"></i>
					</div>
					<div class="stat-title text-slate-500">{{'profile_stats_gameswin'|translate}}</div>
					<div class="stat-value" style="color: #35bc9d;">{{ info.wins }}</div>
				</div>
				
				<div class="stat">
					<div class="stat-figure text-secondary">
						<i class="bi bi-x-octagon-fill text-2xl text-error"></i>
					</div>
					<div class="stat-title text-slate-500">{{'profile_stats_gamesdefeats'|translate}}</div>
					<div class="stat-value text-error">{{ info.loses }}</div>
				</div>

				<div class="stat"> 
					<button *ngIf="!friendService.friendExist(userId) && !friendADD" (click)="toggleAddFriend()" class="btn mb-2 btn-warning btn-sm"><i class="bi bi-person-heart"></i></button>
					<button (click)="onFriendListButton()" *ngIf="(this.authService.userInfo!.info.id == userId)" class="btn btn-primary btn-sm"><i
						class="bi bi-people-fill"></i></button>
					<!--<button [ngClass]="{'': !editProfile,'grayscale disabled opacity-25': editProfile}" class="btn mb-2 btn-warning btn-sm"><i class="bi bi-person-heart"></i></button> -->
					<!-- <button class="btn btn-primary btn-sm"><i class="bi bi-chat-dots-fill"></i></button>-->
				</div>
			</div>
		</div>
	</div>
	<app-friend-list *ngIf="(this.authService.userInfo!.info.id == userId) && info && showFriendList" class="rightContainer"></app-friend-list>
	<app-not-found *ngIf="user_not_found"></app-not-found>
	<app-unauthorized *ngIf="unauthorizedAccess && !loading"></app-unauthorized>
</ng-template>